Voici un hook sous-c√¥t√© mais moi m√™me je ne l'utilises **jamais**. Cependnat je suis un peu oblig√© de te le pr√©senter ü§î

Dans cet exercice, on va utiliser **toute la puissance**. Il faut savoir que quand
j'ai appris React c'est celui qui m'a pos√© le plus probl√®me. Je vais essayer
de rendre son concept le plus simple possible.

[üìñ Doc de useReducer](https://react.dev/reference/react/useReducer)

![use reduce flow](../../../public/use-reduce-flow.png)

_J'explique ce flow dans la vid√©o d'intro._

> C'est quoi la diff√©rence avec useState ?

`useState` est une version limit√©e de `useReducer`, regarde :

(En acceptant que `initialValue` ne soit pas une fonction)

```js
const reducer = (prevValue, newValue) => {
  // On peut aussi passer une fonction dans le `setState`
  if (typeof newValue === "function") {
    return newValue(prevValue);
  }
  return newValue;
};

const useState = (initialValue) => {
  const [state, setState] = React.useReducer(reducer, initialValue);
  return [state, setState];
};
```

Finalement, ce reduce est une sorte de `super useState` pour
r√©aliser tous tes r√™ves et tes d√©sirs.

√Ä vrai dire, `useState` est simplement une configuration par d√©faut de `useReducer`.

[üìñ React hooks system](https://the-guild.dev/blog/react-hooks-system)

## Exercice 1 - Counter

Nous avons un counter qui ne fonctionne pas pour l'instant, fais
le fonctionner.
Quand tu cliques sur le compteur, il doit s'incr√©menter de 1.

## Exercice 2 - Bouton moins !

Maintenant ajoute un deuxi√®me button : le button moins !

Quand tu cliques dessus, il doit d√©cr√©menter de 1.

ü¶Å Tu vas devoir modifier la fonction `reducer` pour qu'elle
s'adapte √† l'action qui est pass√©e en param√®tre.

üí° Tips de code :

```js
switch (action.type) {
  case "INCREMENT":
  // ...
  case "DECREMENT":
  // ...
  case "RESET";
  // ...
  default:
  // ...
}
```

Notre m√©thode va prendre en param√®tre une `action` qui sera un object un peu comme √ßa :

```json
{
  "type": "INCREMENT"
}
```

En fonction de ce type, on vas retoruner une nouvelle valeur.

Tu vas donc pouvoir rajouter 2 buttons :

- `-` qui d√©cr√©mente de 1
- `RESET` qui reset le compteur √† 0

## Exercice 3 - Refactor et reset

Pour cet exercise, 3 choses :

1. Cr√©e une constante qui contient chaque Action (`increment`, `decrement`, `reset`)
   et utilise ces constantes au lieu de string
2. Rajoute un bouton "+5" qui incr√©mente de 5 et un bouton "-5" qui d√©cr√©mente de 5

üí° Tips de code :

```js
const REDUCER_ACTIONS = {
  INCREMENT: "INCREMENT",
  // ...
};
```

Pour le `+5` on va rajouter une nouvelle information dans `action` :

```json
{
  "type": "INCREMENT",
  "value": 5
}
```

Si il n'y a pas de `value`, on incr√©mente de 1.

Comme √ßa on √©vite de cr√©er une nouvelle action pour chaque cas.

## Exercice 4 - Set value

on va venir remplacer le titre par un Input :

```jsx
<label className="input input-bordered flex  items-center gap-2">
  <Hash scale={16} />
  <input
    type="text"
    className="w-10 grow"
    placeholder="Count"
    value={count}
    onChange={(e) => {
      let value = parseInt(e.target.value);
      if (isNaN(value)) {
        value = 0;
      }
      // TODO...
    }}
  />
</label>
```

Cette `input` va nous permettre de changer la valeur du compteur.

Il va falloir rajouter une action `SET` qui va prendre en param√®tre une valeur :

```json
{
  "type": "SET",
  "value": 5
}
```

√Ä toi de jouer !

## Conclusion

Dans cette exercice on a appris √† utiliser `useReducer` pour g√©rer un √©tat plus complexe.

Ce hooks est en r√©alit√© tr√®s rarement utilis√© dans la vie de tous les jours.... Mais il est bon de le conna√Ætre.
